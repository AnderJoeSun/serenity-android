buildscript {
  ext.kotlin_version = '1.2.70'

  repositories {
    jcenter()
    mavenCentral()
  }

  dependencies {
    classpath 'org.jetbrains.kotlin:kotlin-gradle-plugin:1.2.70'
  }
}

repositories {
  google()
  maven {
    url "maven.google.com"
  }
  jcenter()
  mavenCentral()
  flatDir {
    dirs 'embylib'
  }
}

apply plugin: 'com.android.library'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-kapt'

android {
  defaultConfig {
    minSdkVersion 17
    targetSdkVersion 27
  }

  compileSdkVersion 27
  buildToolsVersion '28.0.2'

  sourceSets {
    main.java.srcDirs += 'src/main/kotlin'
    test.java.srcDirs += 'src/test/kotlin'
  }
}

dependencies {
  implementation "org.jetbrains.kotlin:kotlin-stdlib:1.2.70"

  implementation project(':serenity-common')
  implementation project(':serenity-android-common')

  implementation 'com.birbit:android-priority-jobqueue:2.0.1'
  implementation 'com.squareup.dagger:dagger:1.2.2'
  kapt 'com.squareup.dagger:dagger-compiler:1.2.2'
  implementation 'org.greenrobot:eventbus:3.0.0'
  implementation 'com.squareup.moshi:moshi-kotlin:1.6.0'
  implementation 'com.squareup.retrofit2:converter-moshi:2.3.0'
  implementation 'net.danlew:android.joda:2.9.9.4'
  implementation 'com.squareup.retrofit2:retrofit:2.3.0'
  implementation 'com.squareup.okhttp3:okhttp:3.8.1'
  implementation 'com.squareup.okhttp3:logging-interceptor:3.8.1'
  implementation 'com.jakewharton.timber:timber:4.6.0'

  testImplementation 'junit:junit:4.12'
  testImplementation 'org.assertj:assertj-core:3.8.0'
  testImplementation 'org.mockito:mockito-all:1.9.5'
  kaptTest 'com.squareup.dagger:dagger-compiler:1.2.2'
  testImplementation('org.robolectric:robolectric:3.8') {
    exclude module: 'support-v4'
  }
  testImplementation 'org.robolectric:shadows-supportv4:3.8'
  testImplementation 'org.robolectric:shadows-framework:3.8'
  testImplementation 'org.robolectric:shadowapi:3.8'
  testImplementation 'org.robolectric:shadows-playservices:3.8'
  testImplementation 'org.khronos:opengl-api:gl1.1-android-2.1_r1'
}

sourceCompatibility = "1.8"
targetCompatibility = "1.8"

